{"ast":null,"code":"import _slicedToArray from\"C:/Users/catas/Desktop/Basic Chess Game/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import io from'socket.io-client';import{useState,useEffect}from\"react\";import Game from\"./pages/game\";import JoinRoom from\"./pages/JoinRoom\";import'./App.css';import{Wrapper}from'./StyledComponents';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io();console.log(window.location);function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isInRoom=_useState2[0],setInRoom=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),roomCode=_useState4[0],setRoomCode=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),host=_useState6[0],setHost=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),isWhite=_useState10[0],setisWhite=_useState10[1];var joinRoom=function joinRoom(event){event.preventDefault();socket.emit(\"join_room\",roomCode,username);};var newRoom=function newRoom(event){event.preventDefault();socket.emit(\"create_room\",username);setHost(true);setInRoom(true);};useEffect(function(){socket.on(\"room_joined\",function(roomCode,isWhite){setRoomCode(roomCode);setInRoom(true);setisWhite(isWhite);});socket.on(\"room_code\",function(roomCode){setRoomCode(roomCode);});},[]);return/*#__PURE__*/_jsxs(Wrapper,{children:[!isInRoom&&/*#__PURE__*/_jsx(JoinRoom,{socket:socket,joinRoom:joinRoom,roomCode:roomCode,setRoomCode:setRoomCode,newRoom:newRoom,username:username,setUsername:setUsername,host:host,setHost:setHost}),isInRoom&&/*#__PURE__*/_jsx(Game,{socket:socket,roomCode:roomCode,host:host,isWhite:isWhite,setisWhite:setisWhite,username:username})]});}export default App;","map":{"version":3,"names":["io","useState","useEffect","Game","JoinRoom","Wrapper","socket","console","log","window","location","App","isInRoom","setInRoom","roomCode","setRoomCode","host","setHost","username","setUsername","isWhite","setisWhite","joinRoom","event","preventDefault","emit","newRoom","on"],"sources":["C:/Users/catas/Desktop/Basic Chess Game/client/src/App.js"],"sourcesContent":["import io from 'socket.io-client';\r\nimport { useState, useEffect } from \"react\";\r\nimport Game from \"./pages/game\"\r\nimport JoinRoom from \"./pages/JoinRoom\"\r\nimport './App.css'\r\nimport { Wrapper } from './StyledComponents';\r\n\r\nconst socket = io();\r\n\r\nconsole.log(window.location);\r\n\r\nfunction App() {\r\n  const [isInRoom, setInRoom] = useState(false);\r\n  const [roomCode, setRoomCode] = useState(\"\");\r\n  const [host, setHost] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [isWhite, setisWhite] = useState(true);\r\n\r\n  const joinRoom = (event) => {\r\n    event.preventDefault();\r\n    socket.emit(\"join_room\", roomCode, username);\r\n  };\r\n\r\n  const newRoom = (event) => {\r\n    event.preventDefault();\r\n    socket.emit(\"create_room\", username);\r\n    setHost(true);\r\n    setInRoom(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"room_joined\", (roomCode,isWhite) => {\r\n      setRoomCode(roomCode);\r\n      setInRoom(true);\r\n      setisWhite(isWhite);\r\n    })\r\n    socket.on(\"room_code\", (roomCode) => {\r\n      setRoomCode(roomCode);\r\n    })\r\n    \r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {!isInRoom &&\r\n        <JoinRoom\r\n          socket={socket}\r\n          joinRoom={joinRoom}\r\n          roomCode={roomCode}\r\n          setRoomCode={setRoomCode}\r\n          newRoom={newRoom}\r\n          username={username}\r\n          setUsername={setUsername}\r\n          host ={host}\r\n          setHost={setHost}\r\n        />}\r\n      {isInRoom && <Game\r\n        socket={socket}\r\n        roomCode={roomCode}\r\n        host={host}\r\n        isWhite={isWhite}\r\n        setisWhite={setisWhite}\r\n        username={username}\r\n      />}\r\n    </Wrapper>\r\n  );\r\n}\r\nexport default App;\r\n\r\n\r\n\r\n"],"mappings":"oIAAA,MAAOA,GAAE,KAAM,kBAAkB,CACjC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAOC,SAAQ,KAAM,kBAAkB,CACvC,MAAO,WAAW,CAClB,OAASC,OAAO,KAAQ,oBAAoB,CAAC,wFAE7C,GAAMC,OAAM,CAAGN,EAAE,EAAE,CAEnBO,OAAO,CAACC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAAC,CAE5B,QAASC,IAAG,EAAG,CACb,cAA8BV,QAAQ,CAAC,KAAK,CAAC,wCAAtCW,QAAQ,eAAEC,SAAS,eAC1B,eAAgCZ,QAAQ,CAAC,EAAE,CAAC,yCAArCa,QAAQ,eAAEC,WAAW,eAC5B,eAAwBd,QAAQ,CAAC,KAAK,CAAC,yCAAhCe,IAAI,eAAEC,OAAO,eACpB,eAAgChB,QAAQ,CAAC,EAAE,CAAC,yCAArCiB,QAAQ,eAAEC,WAAW,eAC5B,eAA8BlB,QAAQ,CAAC,IAAI,CAAC,0CAArCmB,OAAO,gBAAEC,UAAU,gBAE1B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAK,CAC1BA,KAAK,CAACC,cAAc,EAAE,CACtBlB,MAAM,CAACmB,IAAI,CAAC,WAAW,CAAEX,QAAQ,CAAEI,QAAQ,CAAC,CAC9C,CAAC,CAED,GAAMQ,QAAO,CAAG,QAAVA,QAAO,CAAIH,KAAK,CAAK,CACzBA,KAAK,CAACC,cAAc,EAAE,CACtBlB,MAAM,CAACmB,IAAI,CAAC,aAAa,CAAEP,QAAQ,CAAC,CACpCD,OAAO,CAAC,IAAI,CAAC,CACbJ,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAEDX,SAAS,CAAC,UAAM,CACdI,MAAM,CAACqB,EAAE,CAAC,aAAa,CAAE,SAACb,QAAQ,CAACM,OAAO,CAAK,CAC7CL,WAAW,CAACD,QAAQ,CAAC,CACrBD,SAAS,CAAC,IAAI,CAAC,CACfQ,UAAU,CAACD,OAAO,CAAC,CACrB,CAAC,CAAC,CACFd,MAAM,CAACqB,EAAE,CAAC,WAAW,CAAE,SAACb,QAAQ,CAAK,CACnCC,WAAW,CAACD,QAAQ,CAAC,CACvB,CAAC,CAAC,CAEJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,MAAC,OAAO,YACL,CAACF,QAAQ,eACR,KAAC,QAAQ,EACP,MAAM,CAAEN,MAAO,CACf,QAAQ,CAAEgB,QAAS,CACnB,QAAQ,CAAER,QAAS,CACnB,WAAW,CAAEC,WAAY,CACzB,OAAO,CAAEW,OAAQ,CACjB,QAAQ,CAAER,QAAS,CACnB,WAAW,CAAEC,WAAY,CACzB,IAAI,CAAGH,IAAK,CACZ,OAAO,CAAEC,OAAQ,EACjB,CACHL,QAAQ,eAAI,KAAC,IAAI,EAChB,MAAM,CAAEN,MAAO,CACf,QAAQ,CAAEQ,QAAS,CACnB,IAAI,CAAEE,IAAK,CACX,OAAO,CAAEI,OAAQ,CACjB,UAAU,CAAEC,UAAW,CACvB,QAAQ,CAAEH,QAAS,EACnB,GACM,CAEd,CACA,cAAeP,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}