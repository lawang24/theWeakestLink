{"ast":null,"code":"var _jsxFileName = \"/Users/lawrence/Documents/Projects/theWeakestLink/client/src/items/matchClock.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function MatchClock(_ref) {\n  let {\n    whiteTime,\n    blackTime,\n    whiteTurn,\n    gameStarted\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      height: \"8%\",\n      width: \"30%\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(CountdownTimer, {\n      totalSeconds: whiteTime,\n      isRunning: whiteTurn && gameStarted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(CountdownTimer, {\n      totalSeconds: blackTime,\n      isRunning: !whiteTurn && gameStarted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 11\n  }, this);\n}\n_c = MatchClock;\nexport function CountdownTimer(_ref2) {\n  _s();\n  let {\n    totalSeconds,\n    isRunning\n  } = _ref2;\n  const [remainingTime, setRemainingTime] = useState(totalSeconds);\n  useEffect(() => {\n    let interval = null;\n    setRemainingTime(totalSeconds);\n    if (isRunning) {\n      let end_time = new Date().getTime() + totalSeconds * 1000;\n      interval = setInterval(() => {\n        const timeLeft = Math.ceil((end_time - new Date().getTime()) / 1000);\n        setRemainingTime(timeLeft > 0 ? timeLeft : 0);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isRunning, totalSeconds]);\n  const minutes = Math.floor(remainingTime / 60);\n  const seconds = remainingTime % 60;\n  return /*#__PURE__*/_jsxDEV(Digits, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: minutes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n      children: seconds < 10 ? `0${seconds}` : seconds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(CountdownTimer, \"6IrCc4ywvUbkf4+6hby5rLVppHc=\");\n_c2 = CountdownTimer;\nconst Digits = styled.div`\n  display:flex;\n  justify-content:center;\n  align-items: center;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight:700;\n  font-size:18px;\n  text-align:center;\n  height:100%;\n  width:50%;\n  fontSize: 50px;\n  background:#FFFFFF\n  `;\n_c3 = Digits;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MatchClock\");\n$RefreshReg$(_c2, \"CountdownTimer\");\n$RefreshReg$(_c3, \"Digits\");","map":{"version":3,"names":["useState","useEffect","styled","MatchClock","whiteTime","blackTime","whiteTurn","gameStarted","display","height","width","justifyContent","alignItems","CountdownTimer","totalSeconds","isRunning","remainingTime","setRemainingTime","interval","end_time","Date","getTime","setInterval","timeLeft","Math","ceil","clearInterval","minutes","floor","seconds","Digits","div"],"sources":["/Users/lawrence/Documents/Projects/theWeakestLink/client/src/items/matchClock.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nexport function MatchClock({ whiteTime, blackTime, whiteTurn, gameStarted }) {\n  \n  return (<div style={{ display: \"flex\", height: \"8%\", width: \"30%\", justifyContent: \"center\", alignItems: \"center\" }}>\n    <CountdownTimer totalSeconds={whiteTime} isRunning={(whiteTurn && gameStarted)} />\n    <CountdownTimer totalSeconds={blackTime} isRunning={(!whiteTurn && gameStarted)} />\n  </div>\n  )\n}\n\nexport function CountdownTimer({ totalSeconds, isRunning }) {\n\n  const [remainingTime, setRemainingTime] = useState(totalSeconds);\n\n  useEffect(() => {\n    let interval = null;\n\n    setRemainingTime(totalSeconds);\n\n    if (isRunning) {\n      let end_time = new Date().getTime() + totalSeconds * 1000;\n\n      interval = setInterval(() => {\n        const timeLeft = Math.ceil((end_time - new Date().getTime()) / 1000);\n        setRemainingTime(timeLeft > 0 ? timeLeft : 0);\n      }, 1000);\n    }\n\n    return () => clearInterval(interval);\n\n  }, [isRunning, totalSeconds]);\n\n  const minutes = Math.floor(remainingTime / 60);\n  const seconds = remainingTime % 60;\n\n  return (\n    <Digits>\n      <span>{minutes}</span>:<span>{seconds < 10 ? `0${seconds}` : seconds}</span>\n    </Digits>\n  )\n}\n\nconst Digits = styled.div`\n  display:flex;\n  justify-content:center;\n  align-items: center;\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight:700;\n  font-size:18px;\n  text-align:center;\n  height:100%;\n  width:50%;\n  fontSize: 50px;\n  background:#FFFFFF\n  `"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,mBAAmB;AAAC;AAEvC,OAAO,SAASC,UAAU,OAAmD;EAAA,IAAlD;IAAEC,SAAS;IAAEC,SAAS;IAAEC,SAAS;IAAEC;EAAY,CAAC;EAEzE,oBAAQ;IAAK,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,MAAM,EAAE,IAAI;MAAEC,KAAK,EAAE,KAAK;MAAEC,cAAc,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAS,CAAE;IAAA,wBAClH,QAAC,cAAc;MAAC,YAAY,EAAER,SAAU;MAAC,SAAS,EAAGE,SAAS,IAAIC;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,eAClF,QAAC,cAAc;MAAC,YAAY,EAAEF,SAAU;MAAC,SAAS,EAAG,CAACC,SAAS,IAAIC;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QAC/E;AAER;AAAC,KAPeJ,UAAU;AAS1B,OAAO,SAASU,cAAc,QAA8B;EAAA;EAAA,IAA7B;IAAEC,YAAY;IAAEC;EAAU,CAAC;EAExD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAACc,YAAY,CAAC;EAEhEb,SAAS,CAAC,MAAM;IACd,IAAIiB,QAAQ,GAAG,IAAI;IAEnBD,gBAAgB,CAACH,YAAY,CAAC;IAE9B,IAAIC,SAAS,EAAE;MACb,IAAII,QAAQ,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAGP,YAAY,GAAG,IAAI;MAEzDI,QAAQ,GAAGI,WAAW,CAAC,MAAM;QAC3B,MAAMC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACN,QAAQ,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,IAAI,IAAI,CAAC;QACpEJ,gBAAgB,CAACM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,GAAG,CAAC,CAAC;MAC/C,CAAC,EAAE,IAAI,CAAC;IACV;IAEA,OAAO,MAAMG,aAAa,CAACR,QAAQ,CAAC;EAEtC,CAAC,EAAE,CAACH,SAAS,EAAED,YAAY,CAAC,CAAC;EAE7B,MAAMa,OAAO,GAAGH,IAAI,CAACI,KAAK,CAACZ,aAAa,GAAG,EAAE,CAAC;EAC9C,MAAMa,OAAO,GAAGb,aAAa,GAAG,EAAE;EAElC,oBACE,QAAC,MAAM;IAAA,wBACL;MAAA,UAAOW;IAAO;MAAA;MAAA;MAAA;IAAA,QAAQ,oBAAC;MAAA,UAAOE,OAAO,GAAG,EAAE,GAAI,IAAGA,OAAQ,EAAC,GAAGA;IAAO;MAAA;MAAA;MAAA;IAAA,QAAQ;EAAA;IAAA;IAAA;IAAA;EAAA,QACrE;AAEb;AAAC,GA9BehB,cAAc;AAAA,MAAdA,cAAc;AAgC9B,MAAMiB,MAAM,GAAG5B,MAAM,CAAC6B,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AAAA,MAbGD,MAAM;AAAA;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}