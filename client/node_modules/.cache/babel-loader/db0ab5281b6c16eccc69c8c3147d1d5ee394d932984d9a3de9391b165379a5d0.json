{"ast":null,"code":"import React, { useState, Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Chess } from \"chess.js\"; // import Chess from  \"chess.js\"(default) if recieving an error about new Chess() not being a constructor\n\nimport Chessboard from \"chessboardjsx\";\nconst game = new Chess();\nclass PVP extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      fen: \"start\"\n    };\n    this.onDrop = _ref => {\n      let {\n        sourceSquare,\n        targetSquare\n      } = _ref;\n      // see if the move is legal\n      let move = this.game.move({\n        from: sourceSquare,\n        to: targetSquare,\n        promotion: \"q\" // always promote to a queen for example simplicity\n      });\n\n      // illegal move\n      if (move === null) return;\n      this.setState(_ref2 => {\n        let {\n          history,\n          pieceSquare\n        } = _ref2;\n        return {\n          fen: this.game.fen(),\n          history: this.game.history({\n            verbose: true\n          })\n        };\n      });\n    };\n  }\n  componentDidMount() {\n    this.game = new Chess();\n  }\n  // onSquareClick = square => {\n  //   this.setState(({ history }) => ({\n  //     squareStyles: squareStyling({ pieceSquare: square, history }),\n  //     pieceSquare: square\n  //   }));\n\n  //   let move = this.game.move({\n  //     from: this.state.pieceSquare,\n  //     to: square,\n  //     promotion: \"q\" // always promote to a queen for example simplicity\n  //   });\n\n  //   // illegal move\n  //   if (move === null) return;\n\n  //   this.setState({\n  //     fen: this.game.fen(),\n  //     history: this.game.history({ verbose: true }),\n  //     pieceSquare: \"\"\n  //   });\n  // };\n\n  // onSquareRightClick = square =>\n  //   this.setState({\n  //     squareStyles: { [square]: { backgroundColor: \"deepPink\" } }\n  //   });\n\n  render() {\n    const {\n      fen,\n      dropSquareStyle,\n      squareStyles\n    } = this.state;\n    return this.props.children({\n      squareStyles,\n      position: fen,\n      onMouseOverSquare: this.onMouseOverSquare,\n      onMouseOutSquare: this.onMouseOutSquare,\n      onDrop: this.onDrop,\n      dropSquareStyle,\n      onDragOverSquare: this.onDragOverSquare,\n      onSquareClick: this.onSquareClick,\n      onSquareRightClick: this.onSquareRightClick\n    });\n  }\n}\nPVP.propTypes = {\n  children: PropTypes.func\n};\nexport default PVP;","map":{"version":3,"names":["React","useState","Component","PropTypes","Chess","Chessboard","game","PVP","state","fen","onDrop","sourceSquare","targetSquare","move","from","to","promotion","setState","history","pieceSquare","verbose","componentDidMount","render","dropSquareStyle","squareStyles","props","children","position","onMouseOverSquare","onMouseOutSquare","onDragOverSquare","onSquareClick","onSquareRightClick","propTypes","func"],"sources":["C:/Users/catas/Desktop/Basic Chess Game/client/src/integrations/pvp.js"],"sourcesContent":["import React, { useState, Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Chess } from \"chess.js\"; // import Chess from  \"chess.js\"(default) if recieving an error about new Chess() not being a constructor\r\n\r\nimport Chessboard from \"chessboardjsx\";\r\n\r\nconst game = new Chess();\r\n\r\nclass PVP extends Component {\r\n  static propTypes = { children: PropTypes.func };\r\n\r\n  state = {  fen: \"start\" };\r\n\r\n  componentDidMount() {\r\n    this.game = new Chess();\r\n  }\r\n\r\n  onDrop = ({ sourceSquare, targetSquare }) => {\r\n    // see if the move is legal\r\n    let move = this.game.move({\r\n      from: sourceSquare,\r\n      to: targetSquare,\r\n      promotion: \"q\" // always promote to a queen for example simplicity\r\n    });\r\n\r\n    // illegal move\r\n    if (move === null) return;\r\n    this.setState(({ history, pieceSquare }) => ({\r\n      fen: this.game.fen(),\r\n      history: this.game.history({ verbose: true }),\r\n    }));\r\n  };\r\n\r\n  // onSquareClick = square => {\r\n  //   this.setState(({ history }) => ({\r\n  //     squareStyles: squareStyling({ pieceSquare: square, history }),\r\n  //     pieceSquare: square\r\n  //   }));\r\n\r\n  //   let move = this.game.move({\r\n  //     from: this.state.pieceSquare,\r\n  //     to: square,\r\n  //     promotion: \"q\" // always promote to a queen for example simplicity\r\n  //   });\r\n\r\n  //   // illegal move\r\n  //   if (move === null) return;\r\n\r\n  //   this.setState({\r\n  //     fen: this.game.fen(),\r\n  //     history: this.game.history({ verbose: true }),\r\n  //     pieceSquare: \"\"\r\n  //   });\r\n  // };\r\n\r\n  // onSquareRightClick = square =>\r\n  //   this.setState({\r\n  //     squareStyles: { [square]: { backgroundColor: \"deepPink\" } }\r\n  //   });\r\n\r\n  render() {\r\n    const { fen, dropSquareStyle, squareStyles } = this.state;\r\n\r\n    return this.props.children({\r\n      squareStyles,\r\n      position: fen,\r\n      onMouseOverSquare: this.onMouseOverSquare,\r\n      onMouseOutSquare: this.onMouseOutSquare,\r\n      onDrop: this.onDrop,\r\n      dropSquareStyle,\r\n      onDragOverSquare: this.onDragOverSquare,\r\n      onSquareClick: this.onSquareClick,\r\n      onSquareRightClick: this.onSquareRightClick\r\n    });\r\n  }\r\n}\r\nexport default PVP"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,KAAK,QAAQ,UAAU,CAAC,CAAC;;AAElC,OAAOC,UAAU,MAAM,eAAe;AAEtC,MAAMC,IAAI,GAAG,IAAIF,KAAK,EAAE;AAExB,MAAMG,GAAG,SAASL,SAAS,CAAC;EAAA;IAAA;IAAA,KAG1BM,KAAK,GAAG;MAAGC,GAAG,EAAE;IAAQ,CAAC;IAAA,KAMzBC,MAAM,GAAG,QAAoC;MAAA,IAAnC;QAAEC,YAAY;QAAEC;MAAa,CAAC;MACtC;MACA,IAAIC,IAAI,GAAG,IAAI,CAACP,IAAI,CAACO,IAAI,CAAC;QACxBC,IAAI,EAAEH,YAAY;QAClBI,EAAE,EAAEH,YAAY;QAChBI,SAAS,EAAE,GAAG,CAAC;MACjB,CAAC,CAAC;;MAEF;MACA,IAAIH,IAAI,KAAK,IAAI,EAAE;MACnB,IAAI,CAACI,QAAQ,CAAC;QAAA,IAAC;UAAEC,OAAO;UAAEC;QAAY,CAAC;QAAA,OAAM;UAC3CV,GAAG,EAAE,IAAI,CAACH,IAAI,CAACG,GAAG,EAAE;UACpBS,OAAO,EAAE,IAAI,CAACZ,IAAI,CAACY,OAAO,CAAC;YAAEE,OAAO,EAAE;UAAK,CAAC;QAC9C,CAAC;MAAA,CAAC,CAAC;IACL,CAAC;EAAA;EAlBDC,iBAAiB,GAAG;IAClB,IAAI,CAACf,IAAI,GAAG,IAAIF,KAAK,EAAE;EACzB;EAkBA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEAkB,MAAM,GAAG;IACP,MAAM;MAAEb,GAAG;MAAEc,eAAe;MAAEC;IAAa,CAAC,GAAG,IAAI,CAAChB,KAAK;IAEzD,OAAO,IAAI,CAACiB,KAAK,CAACC,QAAQ,CAAC;MACzBF,YAAY;MACZG,QAAQ,EAAElB,GAAG;MACbmB,iBAAiB,EAAE,IAAI,CAACA,iBAAiB;MACzCC,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;MACvCnB,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBa,eAAe;MACfO,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;MACvCC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,kBAAkB,EAAE,IAAI,CAACA;IAC3B,CAAC,CAAC;EACJ;AACF;AAnEMzB,GAAG,CACA0B,SAAS,GAAG;EAAEP,QAAQ,EAAEvB,SAAS,CAAC+B;AAAK,CAAC;AAmEjD,eAAe3B,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}